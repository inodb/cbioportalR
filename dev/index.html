<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="allows you to access cBioPortals genomic and clinical data directly through R.
    The package wraps cBioPortals existing API endpoints in R so R users can easily leverage cBioPortal's API.
    Using these functions, you can access genomic data on mutations, copy number alterations and fusions as well as data on tumor mutational burden (TMB),
    microsatellite instability status (MSI) and select clinical data points (depending on the study). ">
<title>An R package to access data on cBioPortal • cbioportalR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="An R package to access data on cBioPortal">
<meta property="og:description" content="allows you to access cBioPortals genomic and clinical data directly through R.
    The package wraps cBioPortals existing API endpoints in R so R users can easily leverage cBioPortal's API.
    Using these functions, you can access genomic data on mutations, copy number alterations and fusions as well as data on tumor mutational burden (TMB),
    microsatellite instability status (MSI) and select clinical data points (depending on the study). ">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">cbioportalR</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.1.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/tutorial-workflow-overview.html">Tutorial: Overview of Data Retrieval Workflow</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/karissawhiting/cbioportalR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="cbioportalr">cbioportalR<a class="anchor" aria-label="anchor" href="#cbioportalr"></a>
</h1></div>
<p>{cbioportalR} allows you to access cBioPortal’s genomic and clinical data directly through R. The package wraps cBioPortal’s existing API endpoints in R so R users can easily leverage cBioPortal’s API. Using these functions, you can access genomic data on mutations, copy number alterations and fusions as well as data on tumor mutational burden (TMB), microsatellite instability status (MSI) and select clinical data points (depending on the study).</p>
<p>This package was created to work with both <a href="https://www.cbioportal.org/" class="external-link">the public cBioPortal website</a>, as well as MSK’s private institutional cbioportal database. To connect to a private database, you must first get an access token (or whatever credentials your institution requires) and supply the specific API url at the beginning of your session (details below).</p>
<p>For more information on cBioPortal, see the following publications:</p>
<ul>
<li><a href="https://pubmed.ncbi.nlm.nih.gov/23550210/" class="external-link">Gao et al. Sci. Signal. 2013</a></li>
<li><a href="https://cancerdiscovery.aacrjournals.org/content/2/5/401.abstract" class="external-link">Cerami et al. Cancer Discov. 2012</a></li>
</ul>
<p>For full documentation on the cBioPortal API, please see the following links:</p>
<ul>
<li><a href="https://docs.cbioportal.org/6.-web-api-and-clients/api-and-api-clients" class="external-link">cBioPortal API and API Clients documentation</a></li>
<li><a href="https://www.cbioportal.org/api/swagger-ui.html#/" class="external-link">full reference documentation for API</a></li>
</ul>
<p><img src="reference/figures/cbp-diagram.png" width="60%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>
  level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Database"</span>, <span class="st">"Study"</span>, <span class="st">"Molecular Profile"</span>, <span class="st">"Sample"</span><span class="op">)</span>,
  
  functions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"`available_studies()`"</span>, <span class="st">"`get_genetics_by_study()`"</span>, <span class="st">"`get_genetics_by_study()`"</span>, <span class="st">"`get_genetics_by_sample`"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu">mutate</span><span class="op">(</span>level <span class="op">=</span> <span class="fu">forcats</span><span class="fu">::</span><span class="fu">fct_relevel</span><span class="op">(</span><span class="va">level</span>, <span class="st">"Database"</span>,
                                      <span class="st">"Study"</span>, <span class="st">"Molecular Profile"</span>, <span class="st">"Sample"</span><span class="op">)</span><span class="op">)</span>

<span class="va">table_funs</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
   <span class="fu">gt</span><span class="fu">::</span><span class="fu">gt</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu">gt</span><span class="fu">::</span><span class="fu">fmt_markdown</span><span class="op">(</span>columns <span class="op">=</span> <span class="fu">everything</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu">gt</span><span class="fu">::</span><span class="fu">cols_label</span><span class="op">(</span>level <span class="op">=</span> <span class="fu">gt</span><span class="fu">::</span><span class="fu">md</span><span class="op">(</span><span class="st">"**Level**"</span><span class="op">)</span>,
             functions <span class="op">=</span> <span class="fu">gt</span><span class="fu">::</span><span class="fu">md</span><span class="op">(</span><span class="st">"**Functions**"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu">gt</span><span class="fu">::</span><span class="fu">tab_options</span><span class="op">(</span>table.font.size <span class="op">=</span> <span class="st">'small'</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu">gt</span><span class="fu">::</span><span class="fu">data_color</span><span class="op">(</span>
    columns <span class="op">=</span> <span class="va">level</span>,
    colors <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu">col_factor</span><span class="op">(</span>
      palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BlueViolet"</span>, <span class="st">"SlateBlue"</span>, <span class="st">"DodgerBlue"</span>, <span class="st">"LightSeaGreen"</span>, <span class="st">"SandyBrown"</span><span class="op">)</span>,
      domain <span class="op">=</span> <span class="cn">NULL</span>,
<span class="co">#      reverse = TRUE</span>
    <span class="op">)</span>,
    alpha <span class="op">=</span> <span class="fl">0.6</span>
  <span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu">gt</span><span class="fu">::</span><span class="fu">tab_style</span><span class="op">(</span>
    style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
      <span class="fu">gt</span><span class="fu">::</span><span class="fu">cell_text</span><span class="op">(</span>weight <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>
      <span class="op">)</span>,
    locations <span class="op">=</span> <span class="fu">gt</span><span class="fu">::</span><span class="fu">cells_body</span><span class="op">(</span>
      columns <span class="op">=</span> <span class="va">level</span>,
      rows <span class="op">=</span> <span class="fu">everything</span><span class="op">(</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span>

<span class="va">table_funs</span>
<span class="co">#&gt; Warning in `[&lt;-.factor`(`*tmp*`, !is.na(x), value = c("&lt;div</span>
<span class="co">#&gt; class='gt_from_md'&gt;&lt;p&gt;Database&lt;/p&gt;\n&lt;/div&gt;", : invalid factor level, NA</span>
<span class="co">#&gt; generated</span></code></pre></div>
<div id="amnjhosbhv" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#amnjhosbhv .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: small;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#amnjhosbhv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#amnjhosbhv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#amnjhosbhv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#amnjhosbhv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#amnjhosbhv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#amnjhosbhv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#amnjhosbhv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#amnjhosbhv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#amnjhosbhv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#amnjhosbhv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#amnjhosbhv .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#amnjhosbhv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#amnjhosbhv .gt_from_md > :first-child {
  margin-top: 0;
}

#amnjhosbhv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#amnjhosbhv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#amnjhosbhv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#amnjhosbhv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#amnjhosbhv .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#amnjhosbhv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#amnjhosbhv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#amnjhosbhv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#amnjhosbhv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#amnjhosbhv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#amnjhosbhv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#amnjhosbhv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#amnjhosbhv .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#amnjhosbhv .gt_left {
  text-align: left;
}

#amnjhosbhv .gt_center {
  text-align: center;
}

#amnjhosbhv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#amnjhosbhv .gt_font_normal {
  font-weight: normal;
}

#amnjhosbhv .gt_font_bold {
  font-weight: bold;
}

#amnjhosbhv .gt_font_italic {
  font-style: italic;
}

#amnjhosbhv .gt_super {
  font-size: 65%;
}

#amnjhosbhv .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="table gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">
<strong>Level</strong>
</th>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">
<strong>Functions</strong>
</th>
</tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_center" style="background-color: rgba(138,43,226,0.6); color: #FFFFFF; font-weight: bold;">
Database
</td>
<td class="gt_row gt_left">
<div class="gt_from_md">
<p>
<code><a href="reference/available_studies.html">available_studies()</a></code>
</p>
</div>
</td>
</tr>
<tr>
<td class="gt_row gt_center" style="background-color: rgba(93,109,221,0.6); color: #FFFFFF; font-weight: bold;">
Study
</td>
<td class="gt_row gt_left">
<div class="gt_from_md">
<p>
<code><a href="reference/get_genetics_by_study.html">get_genetics_by_study()</a></code>
</p>
</div>
</td>
</tr>
<tr>
<td class="gt_row gt_center" style="background-color: rgba(48,167,198,0.6); color: #000000; font-weight: bold;">
Molecular Profile
</td>
<td class="gt_row gt_left">
<div class="gt_from_md">
<p>
<code><a href="reference/get_genetics_by_study.html">get_genetics_by_study()</a></code>
</p>
</div>
</td>
</tr>
<tr>
<td class="gt_row gt_center" style="background-color: rgba(244,164,96,0.6); color: #000000; font-weight: bold;">
Sample
</td>
<td class="gt_row gt_left">
<div class="gt_from_md">
<p>
<code>get_genetics_by_sample</code>
</p>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of {cbioportalR} with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"karissawhiting/cbioportalR"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="setting-up-the-api">Setting up the API<a class="anchor" aria-label="anchor" href="#setting-up-the-api"></a>
</h2>
<p>If you are using the public domain <a href="https://www.cbioportal.org/" class="external-link uri">https://www.cbioportal.org/</a>, you do not need a token to access data. If you are using a private instance of cbioportal (like MSK’s institutional database), you will need to acquire a token and save it to your <code>.Renviron</code> file (or wherever you store credentials).</p>
<p>Simply log in to your institution’s cbioportal website, acquire a token (Usually through the ‘Web API’ tab) and save it in your <code>.Renviron</code> file. This will save the token as an environmental variable so you do not have to hard code the secret key in your scripts.</p>
<p><em>Tip: The following {usethis} function can easily find and open the <code>.Renviron</code> for you:</em></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">edit_r_environ</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Paste the token you were given (using the format below) in the .Renviron file and save the file changes. You may want to save and restart your R session to ensure the token is saved and recognized.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">CBIOPORTAL_TOKEN</span> <span class="op">=</span> <span class="st">'YOUR_TOKEN'</span></code></pre></div>
<p>You can test that your token was saved using:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/karissawhiting/cbioportalR" class="external-link">cbioportalR</a></span><span class="op">)</span>
<span class="fu"><a href="reference/get_cbioportal_token.html">get_cbioportal_token</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>To reiterate, if you are planning to retrieve data using public cBioPortal, you do not need a token. If you need to access data on an institutional cBioPortal page you must get a token first.</p>
<p><em>Note: If you are a MSK researcher working on IMPACT, you should connect to MSK’s cBioPortal instance to get the most up to date IMPACT data, and you must follow MSK-IMPACT publication guidelines when using the data</em></p>
</div>
<div class="section level2">
<h2 id="setting-the-database">Setting the database<a class="anchor" aria-label="anchor" href="#setting-the-database"></a>
</h2>
<p>For every new R session, you need to set your database URL. The <code>get_cbioportal_db()</code> function will set an environmental variable for your session that tells the package which database to point to for all API calls.</p>
<p>You can set it to point to the public database with this shortcut:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/karissawhiting/cbioportalR" class="external-link">cbioportalR</a></span><span class="op">)</span>
<span class="fu"><a href="reference/set_cbioportal_db.html">set_cbioportal_db</a></span><span class="op">(</span><span class="st">"public"</span><span class="op">)</span>
<span class="co">#&gt; ✓ You are successfully connected!</span>
<span class="co">#&gt; ✓ base_url for this R session is now set to "www.cbioportal.org/api"</span></code></pre></div>
<p>or you can set it to a specific institution database with:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">get_cbioportal_db</span><span class="op">(</span><span class="st">"&lt;&lt;your institution's url&gt;&gt;/api"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="retrieving-data">Retrieving data<a class="anchor" aria-label="anchor" href="#retrieving-data"></a>
</h2>
<p>Once you’ve set your preferred db connection, you can pull data via study ID or sample ID.</p>
<p>To see available studies (this depends on what cBioPortal database you are connected to), you can use:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/available_studies.html">available_studies</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 10 × 13</span>
<span class="co">#&gt;    studyId name  description publicStudy pmid  citation groups status importDate</span>
<span class="co">#&gt;    &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;       &lt;lgl&gt;       &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;     </span>
<span class="co">#&gt;  1 prad_m… Pros… "Genome-wi… TRUE        2502… Hierony… "PUBL…      0 2021-04-2…</span>
<span class="co">#&gt;  2 pan_or… Chin… "Landscape… TRUE        &lt;NA&gt;  &lt;NA&gt;     ""          0 2021-09-2…</span>
<span class="co">#&gt;  3 crc_ni… Disp… "Targeted … TRUE        &lt;NA&gt;  &lt;NA&gt;     ""          0 2021-10-2…</span>
<span class="co">#&gt;  4 acc_tc… Adre… "TCGA Adre… TRUE        &lt;NA&gt;  &lt;NA&gt;     "PUBL…      0 2021-10-2…</span>
<span class="co">#&gt;  5 acyc_s… Aden… "Whole exo… TRUE        2377… Stephen… "ACYC…      0 2021-10-2…</span>
<span class="co">#&gt;  6 all_st… Acut… "Whole-gen… TRUE        2777… Zhang e… "PUBL…      0 2021-10-2…</span>
<span class="co">#&gt;  7 all_ph… Pedi… "Whole gen… TRUE        &lt;NA&gt;  &lt;NA&gt;     "NCI-…      0 2021-10-2…</span>
<span class="co">#&gt;  8 all_st… Acut… "Comprehen… TRUE        2573… Anderss… "PUBL…      0 2021-11-0…</span>
<span class="co">#&gt;  9 acbc_m… Aden… "Whole exo… TRUE        2609… Martelo… "ACYC…      0 2021-11-0…</span>
<span class="co">#&gt; 10 acyc_j… Aden… "Whole-gen… TRUE        2686… Rettig … "ACYC…      0 2021-11-0…</span>
<span class="co">#&gt; # … with 4 more variables: allSampleCount &lt;int&gt;, readPermission &lt;lgl&gt;,</span>
<span class="co">#&gt; #   cancerTypeId &lt;chr&gt;, referenceGenome &lt;chr&gt;</span></code></pre></div>
<p>To pull mutation data for a particular study ID you can use:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># As a result you will get a list of dataframes of 1) mutation + fusion and 2) cna.</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_genetics_by_study.html">get_genetics_by_study</a></span><span class="op">(</span>study_id <span class="op">=</span> <span class="st">"nbl_amc_2012"</span><span class="op">)</span>
<span class="co">#&gt; ℹ Returning all data for the "nbl_amc_2012_mutations" molecular profile in the "nbl_amc_2012" study</span>
<span class="co">#&gt; ! No "cna" data returned. Error:  No molecular profile for `data_type = cna` found in "nbl_amc_2012".  See</span>
<span class="co">#&gt; `available_profiles('nbl_amc_2012')`</span>
<span class="co">#&gt; ! No "fusion" data returned. Error:  No molecular profile for `data_type = fusion` found in "nbl_amc_2012".</span>
<span class="co">#&gt; See `available_profiles('nbl_amc_2012')`</span>

<span class="va">mutations</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">$</span><span class="va">mut</span> 
<span class="va">df</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; $mutation</span>
<span class="co">#&gt; # A tibble: 562 × 28</span>
<span class="co">#&gt;    uniqueSampleKey          uniquePatientKey molecularProfil… sampleId patientId</span>
<span class="co">#&gt;    &lt;chr&gt;                    &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;    &lt;chr&gt;    </span>
<span class="co">#&gt;  1 TjA0MVQ6bmJsX2FtY18yMDEy TjA0MTpuYmxfYW1… nbl_amc_2012_mu… N041T    N041     </span>
<span class="co">#&gt;  2 TjA0MVQ6bmJsX2FtY18yMDEy TjA0MTpuYmxfYW1… nbl_amc_2012_mu… N041T    N041     </span>
<span class="co">#&gt;  3 TjA0MVQ6bmJsX2FtY18yMDEy TjA0MTpuYmxfYW1… nbl_amc_2012_mu… N041T    N041     </span>
<span class="co">#&gt;  4 TjA0MVQ6bmJsX2FtY18yMDEy TjA0MTpuYmxfYW1… nbl_amc_2012_mu… N041T    N041     </span>
<span class="co">#&gt;  5 TjA0MVQ6bmJsX2FtY18yMDEy TjA0MTpuYmxfYW1… nbl_amc_2012_mu… N041T    N041     </span>
<span class="co">#&gt;  6 TjA0MVQ6bmJsX2FtY18yMDEy TjA0MTpuYmxfYW1… nbl_amc_2012_mu… N041T    N041     </span>
<span class="co">#&gt;  7 TjA0MVQ6bmJsX2FtY18yMDEy TjA0MTpuYmxfYW1… nbl_amc_2012_mu… N041T    N041     </span>
<span class="co">#&gt;  8 TjA0MVQ6bmJsX2FtY18yMDEy TjA0MTpuYmxfYW1… nbl_amc_2012_mu… N041T    N041     </span>
<span class="co">#&gt;  9 TjA0MVQ6bmJsX2FtY18yMDEy TjA0MTpuYmxfYW1… nbl_amc_2012_mu… N041T    N041     </span>
<span class="co">#&gt; 10 TjA0MVQ6bmJsX2FtY18yMDEy TjA0MTpuYmxfYW1… nbl_amc_2012_mu… N041T    N041     </span>
<span class="co">#&gt; # … with 552 more rows, and 23 more variables: entrezGeneId &lt;int&gt;,</span>
<span class="co">#&gt; #   studyId &lt;chr&gt;, center &lt;chr&gt;, mutationStatus &lt;chr&gt;, validationStatus &lt;chr&gt;,</span>
<span class="co">#&gt; #   startPosition &lt;int&gt;, endPosition &lt;int&gt;, referenceAllele &lt;chr&gt;,</span>
<span class="co">#&gt; #   proteinChange &lt;chr&gt;, mutationType &lt;chr&gt;, functionalImpactScore &lt;chr&gt;,</span>
<span class="co">#&gt; #   fisValue &lt;dbl&gt;, linkXvar &lt;chr&gt;, linkPdb &lt;chr&gt;, linkMsa &lt;chr&gt;,</span>
<span class="co">#&gt; #   ncbiBuild &lt;chr&gt;, variantType &lt;chr&gt;, keyword &lt;chr&gt;, chr &lt;chr&gt;,</span>
<span class="co">#&gt; #   variantAllele &lt;chr&gt;, refseqMrnaId &lt;chr&gt;, proteinPosStart &lt;int&gt;, …</span></code></pre></div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/karissawhiting/cbioportalR/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/karissawhiting/cbioportalR/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing cbioportalR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Karissa Whiting <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4683-1868" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Axel Martin <br><small class="roles"> Author </small>  </li>
<li>Arshi Arora <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/karissawhiting/cbioportalR/actions" class="external-link"><img src="https://github.com/karissawhiting/cbioportalR/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Karissa Whiting, Axel Martin, Arshi Arora.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
